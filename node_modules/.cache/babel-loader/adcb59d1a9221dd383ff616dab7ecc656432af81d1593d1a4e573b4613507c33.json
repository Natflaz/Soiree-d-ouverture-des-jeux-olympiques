{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport UserList from '../components/Admin/UserList.vue';\nimport AddUserForm from '../components/Admin/AddUserForm.vue';\nimport EditUserForm from '../components/Admin/EditUserForm.vue';\nimport dataTest from \"../datasources/testUsers.json\";\nexport default {\n  components: {\n    UserList,\n    AddUserForm,\n    EditUserForm\n  },\n  data() {\n    return {\n      users: dataTest.users,\n      filterRole: '',\n      showAddUserForm: false,\n      showEditUserForm: false,\n      showUserList: true,\n      showAddButton: true,\n      selectedUser: null\n    };\n  },\n  computed: {\n    filteredUsers() {\n      if (this.filterRole === '') {\n        return this.users;\n      } else {\n        return this.users.filter(user => user.role === this.filterRole);\n      }\n    }\n  },\n  methods: {\n    addUser(user) {\n      user.id = this.users.length + 1;\n      this.users.push(user);\n      this.closeAddForm();\n    },\n    deleteUser(index) {\n      this.users.splice(index, 1);\n      console.log('delete user', index);\n    },\n    editUser(index) {\n      console.log('edit user', index);\n      this.selectedUser = JSON.parse(JSON.stringify(this.users[index]));\n      this.showEditUserForm = true;\n      this.showUserList = false;\n      this.showAddButton = false;\n    },\n    showAddForm() {\n      this.showAddUserForm = true;\n      this.showUserList = false;\n      this.showAddButton = false;\n    },\n    closeAddForm() {\n      this.showAddUserForm = false;\n      this.showUserList = true;\n      this.showAddButton = true;\n    },\n    closeEditForm() {\n      this.showEditUserForm = false;\n      this.showUserList = true;\n      this.showAddButton = true;\n    },\n    updateUser(user) {\n      const index = this.users.findIndex(u => u.id === user.id);\n      if (index !== -1) {\n        this.users.splice(index, 1, user);\n      }\n      this.closeEditForm();\n    }\n  }\n};","map":{"version":3,"names":["UserList","AddUserForm","EditUserForm","dataTest","components","data","users","filterRole","showAddUserForm","showEditUserForm","showUserList","showAddButton","selectedUser","computed","filteredUsers","filter","user","role","methods","addUser","id","length","push","closeAddForm","deleteUser","index","splice","console","log","editUser","JSON","parse","stringify","showAddForm","closeEditForm","updateUser","findIndex","u"],"sources":["src/views/AdminEditUsers.vue"],"sourcesContent":["<template>\n    <div class=\"container\" style=\"margin-top: 70px;\">\n        <h1 class=\"title\">Liste d'utilisateurs :</h1>\n        <button v-if=\"showAddButton\" class=\"blue-button\" @click=\"showAddForm\">Ajouter utilisateurs</button> <br><br>\n        <user-list v-if=\"showUserList\" :users=\"users\" :filtered-users=\"filteredUsers\" @edit-user=\"editUser\" @delete-user=\"deleteUser\"></user-list>\n        <add-user-form v-if=\"showAddUserForm\" :users=\"users\" @add-user=\"addUser\" @close=\"closeAddForm\"></add-user-form>\n        <edit-user-form v-if=\"showEditUserForm\" :user=\"selectedUser\" @update-user=\"updateUser\" @close=\"closeEditForm\"></edit-user-form>\n    </div>\n</template>\n\n<script>\nimport UserList from '../components/Admin/UserList.vue';\nimport AddUserForm from '../components/Admin/AddUserForm.vue';\nimport EditUserForm from '../components/Admin/EditUserForm.vue';\nimport dataTest from \"../datasources/testUsers.json\";\n\nexport default {\n    components: {\n        UserList,\n        AddUserForm,\n        EditUserForm\n    },\n    data() {\n        return {\n            users: dataTest.users,\n            filterRole: '',\n            showAddUserForm: false,\n            showEditUserForm: false,\n            showUserList: true,\n            showAddButton: true,\n            selectedUser: null,\n        };\n    },\n    computed: {\n        filteredUsers() {\n            if (this.filterRole === '') {\n                return this.users;\n            } else {\n                return this.users.filter(user => user.role === this.filterRole);\n            }\n        },\n    },\n    methods: {\n        addUser(user) {\n            user.id = this.users.length + 1;\n            this.users.push(user);\n            this.closeAddForm();\n        },\n        deleteUser(index) {\n            this.users.splice(index, 1);\n            console.log('delete user', index);\n        },\n        editUser(index) {\n        console.log('edit user', index);\n        this.selectedUser = JSON.parse(JSON.stringify(this.users[index]));\n        this.showEditUserForm = true;\n        this.showUserList = false;\n        this.showAddButton = false;\n        },\n        showAddForm() {\n            this.showAddUserForm = true;\n            this.showUserList = false;\n            this.showAddButton = false;\n        },\n        closeAddForm() {\n            this.showAddUserForm = false;\n            this.showUserList = true;\n            this.showAddButton = true;\n        },\n        closeEditForm() {\n            this.showEditUserForm = false;\n            this.showUserList = true;\n            this.showAddButton = true;\n        },\n        updateUser(user) {\n        const index = this.users.findIndex(u => u.id === user.id);\n        if (index !== -1) {\n            this.users.splice(index, 1, user);\n        }\n        this.closeEditForm();\n        },\n    },\n};\n</script>\n\n<style scoped>\n    .container {\n        max-width: 800px;\n        margin: 0 auto;\n        padding: 20px;\n    }\n    \n    .title {\n        font-size: 36px;\n        margin-bottom: 20px;\n    }\n    \n    .blue-button {\n        margin-top: 10px;\n        padding: 10px 20px;\n        background-color: #4d79ff;\n        color: #fff;\n        border: none;\n        border-radius: 5px;\n        cursor: pointer;\n        transition: background-color 0.2s ease-in-out;\n    }\n    \n    .blue-button:hover {\n        background-color: #1a53ff;\n    }    \n</style>\n"],"mappings":";AAWA,OAAAA,QAAA;AACA,OAAAC,WAAA;AACA,OAAAC,YAAA;AACA,OAAAC,QAAA;AAEA;EACAC,UAAA;IACAJ,QAAA;IACAC,WAAA;IACAC;EACA;EACAG,KAAA;IACA;MACAC,KAAA,EAAAH,QAAA,CAAAG,KAAA;MACAC,UAAA;MACAC,eAAA;MACAC,gBAAA;MACAC,YAAA;MACAC,aAAA;MACAC,YAAA;IACA;EACA;EACAC,QAAA;IACAC,cAAA;MACA,SAAAP,UAAA;QACA,YAAAD,KAAA;MACA;QACA,YAAAA,KAAA,CAAAS,MAAA,CAAAC,IAAA,IAAAA,IAAA,CAAAC,IAAA,UAAAV,UAAA;MACA;IACA;EACA;EACAW,OAAA;IACAC,QAAAH,IAAA;MACAA,IAAA,CAAAI,EAAA,QAAAd,KAAA,CAAAe,MAAA;MACA,KAAAf,KAAA,CAAAgB,IAAA,CAAAN,IAAA;MACA,KAAAO,YAAA;IACA;IACAC,WAAAC,KAAA;MACA,KAAAnB,KAAA,CAAAoB,MAAA,CAAAD,KAAA;MACAE,OAAA,CAAAC,GAAA,gBAAAH,KAAA;IACA;IACAI,SAAAJ,KAAA;MACAE,OAAA,CAAAC,GAAA,cAAAH,KAAA;MACA,KAAAb,YAAA,GAAAkB,IAAA,CAAAC,KAAA,CAAAD,IAAA,CAAAE,SAAA,MAAA1B,KAAA,CAAAmB,KAAA;MACA,KAAAhB,gBAAA;MACA,KAAAC,YAAA;MACA,KAAAC,aAAA;IACA;IACAsB,YAAA;MACA,KAAAzB,eAAA;MACA,KAAAE,YAAA;MACA,KAAAC,aAAA;IACA;IACAY,aAAA;MACA,KAAAf,eAAA;MACA,KAAAE,YAAA;MACA,KAAAC,aAAA;IACA;IACAuB,cAAA;MACA,KAAAzB,gBAAA;MACA,KAAAC,YAAA;MACA,KAAAC,aAAA;IACA;IACAwB,WAAAnB,IAAA;MACA,MAAAS,KAAA,QAAAnB,KAAA,CAAA8B,SAAA,CAAAC,CAAA,IAAAA,CAAA,CAAAjB,EAAA,KAAAJ,IAAA,CAAAI,EAAA;MACA,IAAAK,KAAA;QACA,KAAAnB,KAAA,CAAAoB,MAAA,CAAAD,KAAA,KAAAT,IAAA;MACA;MACA,KAAAkB,aAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}